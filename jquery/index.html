<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Carrousel Simple</title>
  <style>
    body { font-family: sans-serif; background: #f5f5f5; }
    .carousel-container {
      width: 400px;
      margin: 40px auto;
      overflow: hidden;
      position: relative;
      border-radius: 10px;
      box-shadow: 0 2px 8px #0002;
      background: #fff;
    }
    .carousel-track {
      display: flex;
      transition: transform 0.4s;
    }
    .carousel-item {
      min-width: 400px;
      height: 250px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #eee;
    }
    .carousel-item img {
      max-width: 100%;
      max-height: 100%;
      border-radius: 8px;
    }
    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: #fff;
      border: none;
      font-size: 2rem;
      cursor: pointer;
      padding: 0 10px;
      opacity: 0.7;
      z-index: 1;
    }
    .carousel-btn.left { left: 0; }
    .carousel-btn.right { right: 0; }
  </style>
</head>
<body>
  <div class="carousel-container">
    <button class="carousel-btn left">&#8592;</button>
    <div class="carousel-track" id="carouselTrack">
      <div class="carousel-item"><img src="https://picsum.photos/id/1015/400/250" alt="img1"></div>
      <div class="carousel-item"><img src="https://picsum.photos/id/1016/400/250" alt="img2"></div>
      <div class="carousel-item"><img src="https://picsum.photos/id/1018/400/250" alt="img3"></div>
      <div class="carousel-item"><img src="https://picsum.photos/id/1020/400/250" alt="img4"></div>
      <div class="carousel-item"><img src="https://picsum.photos/id/1024/400/250" alt="img5"></div>
    </div>
    <button class="carousel-btn right">&#8594;</button>
  </div>


  <div id="api-menu">
    <button id="refresh">Bouton refresh</button>
    <button id="add"></button>
  </div>

  <div id="api-results">

  </div>

  <div id="json-results">

  </div>


  <script src="https://releases.jquery.com/git/jquery-3.x-git.min.js"></script>

  <script >
window.onload = function() {
    const refreshBtn = $("#api-menu");
    refreshBtn.on("click",handleRefresh)
   // console.log("print the refresh button ",refreshBtn);
}

function callbackGetPlaceHolder(content,status){
    //console.log("reply",content)
    clearCards()
    for(let j in content){
        //console.log("item ",content[j].email);        
        createCard(content[j])        
    }
    let i = 0;
    //content.map((item) => {i<3 ? console.log("mapped item : ",item): ()=>{} ; i++;})


    console.log("status",status)

    //console.log("liste de tous les h1 des cartes : ",$("#api-results h1"))
    const listhashun = $("#api-results h1")
    console.log(listhashun)
    i = 0;
    
    listhashun.map((item) => {i<4 ? console.log("h1 item : ",item.textContent): ()=>{} ; i++;})

    for(let j in listhashun){
        console.log("h1 item : ",listhashun[j].textContent)
    }

}
function clearCards(){
    const divApiRes = $("#api-results");
    console.log("clearcards remove  : ", divApiRes)
    $("#api-results").empty();
    
    
}
function createCard(card){
    //console.log(card);
    const myh1 = $("<h1>",{id:card.id, text:card.username});
    const mypname = $("<p>",{id:card.id, text:card.name});
    const mypaddress = $("<p>",{id:card.id, text:card.adress});
    const mypemail = $("<p>",{id:card.id, text:card.email});
    const mypphone = $("<p>",{id:card.id, text:card.phone});
    
    $("#api-results").append(myh1);
    $("#api-results").append(mypname);
    $("#api-results").append(mypaddress);
    $("#api-results").append(mypemail);
    $("#api-results").append(mypphone);
}


function handleRefresh(e){
    console.log("là tu click sur ", e.target);
    console.log("là tu crelick sur ", e.currentTarget);
    console.log("là tu rereclick sur ", $(this).get(0));
    console.log("coucouc");

    $.get("https://jsonplaceholder.typicode.com/users",callbackGetPlaceHolder);

    $("#json-results").load("https://jsonplaceholder.typicode.com/posts")
}
    /* 
    
    

    */ 

    const track = document.getElementById('carouselTrack');
    const leftBtn = document.querySelector('.carousel-btn.left');
    const rightBtn = document.querySelector('.carousel-btn.right');
    let index = 0;
    const maxIndex = 4; // 5 images, index 0 à 4

    function updateCarousel() {
      track.style.transform = `translateX(-${index * 400}px)`;
    }

    leftBtn.onclick = () => {
      if (index > 0) { index--; updateCarousel(); }
    };
    rightBtn.onclick = () => {
      if (index < maxIndex) { index++; updateCarousel(); }
    };
  </script>
</body>
</html>